<div class="container mx-auto p-4">
  <h1 class="text-3xl font-bold mb-4">Admin Dashboard</h1>
  <p>Manage user roles below:</p>

  <div *ngIf="message" class="my-4 text-green-600 font-semibold">{{ message }}</div>

  <table class="min-w-full bg-white border border-gray-300 rounded">
    <thead>
      <tr>
        <th class="py-2 px-4 border-b">Username</th>
        <th class="py-2 px-4 border-b">Email</th>
        <th class="py-2 px-4 border-b">Roles</th>
        <th class="py-2 px-4 border-b">Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let user of users">
        <td class="py-2 px-4 border-b">{{ user.username }}</td>
        <td class="py-2 px-4 border-b">{{ user.email }}</td>
        <td class="py-2 px-4 border-b">{{ user.roles.join(', ') }}</td>
        <td class="py-2 px-4 border-b">
          <select #roleSelect>
            <option *ngFor="let role of roles" [value]="role" [selected]="user.roles.includes(role)">{{ role }}</option>
          </select>
          <button (click)="updateUserRole(user, roleSelect.value)" class="ml-2 bg-blue-500 hover:bg-blue-700 text-white font-bold py-1 px-3 rounded">Update</button>
        </td>
      </tr>
    </tbody>
  </table>
</div>

<div class="container mx-auto p-4">
  <h1 class="text-3xl font-bold mb-4">Reservar Cita MÃ©dica</h1>

  <div class="mb-4">
    <label for="specialty" class="block text-gray-700 text-sm font-bold mb-2">Filtrar por Especialidad:</label>
    <select id="specialty" [(ngModel)]="selectedSpecialty" (change)="filterBySpecialty()" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline">
      <option value="">Todas las especialidades</option>
      <option *ngFor="let specialty of specialties" [value]="specialty">{{ specialty }}</option>
    </select>
  </div>

  <div *ngIf="filteredSlots.length === 0" class="text-red-600">No hay citas disponibles para la especialidad seleccionada.</div>

  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
    <div *ngFor="let slot of filteredSlots" class="border rounded p-4 shadow">
      <h2 class="text-xl font-semibold mb-2">{{ slot.doctorName }}</h2>
      <p><strong>Hospital:</strong> {{ slot.hospitalName }}</p>
      <p><strong>Especialidad:</strong> {{ slot.doctorSpecialization }}</p>
      <p><strong>Fecha y Hora:</strong> {{ slot.appointmentTime | date:'short' }}</p>
      <p><strong>Cupos Disponibles:</strong> {{ slot.availableSlots }}</p>
      <button (click)="reserveSlot(slot)" [disabled]="slot.availableSlots === 0" class="mt-2 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline">
        Reservar
      </button>
    </div>
  </div>

  <p class="mt-4 text-green-600">{{ message }}</p>
</div>
